// * Private directives *

import { Directive, ElementRef, HostListener, Input } from '@angular/core';

/**
 * Load default OpenVidu logo if custom one is not exist
 * @internal
 */
@Directive({
	selector: 'img[ovLogo]'
})
export class LogoDirective {
	defaultLogo ='data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAREhAPEBAQEBAVGBEWFxUVFw8REA4SFRUWGBUVGBgYHSggGB0lHRUVIjEtJSkrLi4uFx8zODMtNygtLisBCgoKDg0OGhAQFS4eHx0rKy0rNystKy0rLSstLjIyNzctLSsuKy0xLS0tLS0rLS0rLS8rLSsrLS0tLTItKy0rLf/AABEIALQAtAMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABwMEBQYIAgH/xABGEAABAwEDBwgHAwoHAQAAAAABAAIDBAUGEQcSITFBUWETIlJxgZGhsRQjMkJicsEzQ9EkNFN0kqKys+HwRGNzgoPC8aP/xAAaAQEBAQADAQAAAAAAAAAAAAAABQQCAwYB/8QAKREBAQABAwMCBAcAAAAAAAAAAAECAwQRBSExEoEUYXGhExUyM0Gxwf/aAAwDAQACEQMRAD8AnFERAREQEREBERAREQEREBERARaTlJveKGDMjP5VKCGbeTbtkPVs49RWJuNlNjnzaeuLYptAbLqilPxdB3h1akEmIvgK+oCIiC2r6yOCN80rgyNgLnOOpoC5xvpeR9oVLpiC2Mc2NnQYN/E6ytmysXv9IkNFA4ejxnnubqmkH0bq68eCjtB07dLTQ0H6vTfymovt0fzCg/V6b+U1EGXREQEREBERAREQEVlaFqQU4zp5o4W73uDcerHWsBU5RbKZ/i2u+Vsr/IINsRaIcq1lj3pz/wAZ+pVeDKhZTtcz2fNHL9AUG6LF3htiKip5KmU81o0Da92xo4kq2or32dN9nWQE7nPDHdzsFC2Ue9xr582Mn0WIkMH6Q6jIRx2cOtBr9u2tLVzyVMzsXvPYxmxg4BWCIg3+4uUeWkzaeqzpqbRg7XJTjhvbw7tynCGYPa17dLXAEbMQRiNBUIZKboCqk9LnGNPEea0jRNJ+A1ns4qdUBRzlUvj6LGaSB35TIOcRrgjO35js7TuWzXxvFHZ9O6d+l55sbdr37Owayuca+skmkfNK4vkeS4k7Sgt19RfWgk4DWfEoOnbo/mFB+r038pqKpdmB0VJSRSDNeyGBjh0XNja1w7wUQZNERAREQEVraFdFBG6aZ7Y42jFzjqChK+mUmeqzoaUugp9PO1SzDifdHAIJEvPlDoqLOYHekTg4cnHhgw/G/UPE8FF9vZSbQqTmsf6LF0YtDj1vOnuwC01EHuaZzyXPc57j7ziXE9pXhEQEREBERAWZuld6SvqGU7Oa32nv1iNg1nr2DisVTU75XsijaXvc4Na0aS5x1BdF3Guyyz6ZsY0zPwdK7pv3DgNQ/qgzNl0EVPEyCFoZGwAADz6zrXuvrY4I3zSuDI2Auc46gFdKD8rF8PSHmip3YwMd6xw+9kHu/KPE9QQaxfS8sloVBmPNjbi2JnQZv6zrP9FgURAUo5IboZ7haE7OY37EH3nDXJ1DZx6lq2T+6b7QnwdnNpo8DK7fujB3nwC6HggaxrY2ANY0BrQNAa0DAAIKyIiAiIgKztO0IqeJ88zwyNgxc7d/VXigPKje/wBMmNPC78micdI1Tv2v6hpA79qDG34vjNaMm1lM32I/+797vLz1hEQEV/YljT1cohp4zI/uYwb3nYFNF0smtLSASVAbVVGj2hjFGfhadfWfBBElh3Qr6sB0FO8xn7x3MiPUTr7FulBkcmIxnqo2HoxtMnicPJTG0ADAavJekEXtyNU+2rm/ZjCoVGRmPD1da8H44wR4EKV0Qc/2zkvtGDFzGMqWf5R53aw4HuxWmzwPY4se1zHj2muBa9h4grrJY607FpqnDl4I5cMMC5oJHbrQR/kkudyTBX1DcJXj1TT92w/eYbzs4dalFeWtw0DR9Fgb5Xjjs+ndO/nPPNjZqMkmzsGsoNayq3wNLH6JA7ColbpcNcEZ0Y/M7UO07lB6uLRrpKiV88ri+R5Lif72K3QFe2PZctVNHTwtznvPYwbSdwCs2jE4D/1T5k0ueKGHlZQPS5QM/byTNkY+vHqQZ+69hxUNOymi05vtO2yPOtx/vVgsyiICIiAiIg0HKzeb0Sm9HjPrp8W7jHH77/p2ncoIWyZQraNXXTyA4xsPJs3BjdGI6zie1a2gLIXfsaasmZTwjnO1u92Nu1zuAWOAXQ2Ti6woKcF4/KZcHSHazdGOA88UGUutd2CghEMLdOjPfhz5Xbz+GxZtfVZ19dHCwySODWjafLrXy2Sc19ktvEXIKsK62aeHRJMxp3Y4u7hpUf23e6aclkRMUXDRI4cTs6gsE0Y/3rU/W38xvGM5VdHpWVnq1Lx8ok118KPpuPU16rQXpo3/AHob8wLfNRkyNVWxrN+Y5y+I0ZdM0eO1qXYZ2uALXBwO0aQe1V1E1DVywnGN5b5HrGord7CvEyb1b+ZJ+67q/BbdDe4al4vap242Oel3neNiUU5Z7uzSBlcxznsjGa+PXybcftBw39ilZUpIw4FpGIOIIOkEHWCtrE5PRbVlGux6BVZrPsJcXx/AMdMfZ5ELVUGYuhaEdPWU80zBJG1wxx52ZjozxxGvsXTTHAgEaj4hcmqf8k9uGqoWsecZIDyTt5aBzD3aOxBuyIiAiIgLB3ztI01FVTg4ObGQ07nu5rT3kLOKOMt9aWUcUQP2sox4tY0nzzUEIoiINwyV2J6VXMc4eqg9Y7cSDzB36ewroVRtkRs7MpJqgjTLIQOLIxh5l3cpJQU3Ow0nQPJRNeq3DVSkNPqWYho6fxHrW5ZQLT5Km5Np58pzf9vvfQdqjKMKZvta/onuu9J2ssutl9IrRhXMbFSjCuogpNqtnVSONV2xr7ExXMca6csmXPNQ5NecCDnDQR2EFXvJqnJGmOTh6uW6XbtXl2YO+0bgHcdxWaUb2JVcjOx2w813yn+8exSOF6LZa/4uHfzEPd6P4efbxWqZSrC9LopWtGMseMse/OaNLR1jHtwXO66zIxXMF6aD0esqqfDAMlkzfkJxZ4ELaysWt/yLWkY650GPMmYdG+RnOB7s/vWgLK3UrTBWUkwOhssWPyF4D/AlB1AiIgIiICiTLxJ+ZN/1j/ApbUR5d2aaI/63/RBEyIiDo3JpFm2ZRj4XO/akefqtoWtZOH51m0RH6PDucR9FsqCNMp0uM0LNzS7vOH0WqRraMpseFRE7ezDucfxWrRlRN3+7XrunyfDY/T/V1EryJWURV3EVhydmovoleRBWMRVzHIujKMecXmGhW8oXrlFRkeuEjrxl5W8qk2hfjHGd7W+SjCUqTbObhFEDsa3yVrpfPf2YupTtj7rtc+5Xos205iPebE7/AOYH0XQS5/ywSY2nKB7rIR+5j9VZSmlL3AcHMPxDzXheoRi5vWPNB1dA7FrTvA8lVVKBuDWDgPJVUBERAUZ5c6XOpaeYe5KW9Qew/VoUmLWcodn8vZ9WwDEhvKDfjGQ/6FBzgiIgnTItaHKUJhOuGR7f9j+ePEu7lIKgjI3bXIVhp3HmVAzRwkbpb3jEdyndBpOUmzy+Fk7dcZ0/K7R5gd6jqMqcqymbKx8Txi1wII3gqGbasx9LM6J2r3Dsc3YVL3ulefXP5ei6RuJcbpXzPH0eYyrqN6sI3q4Y9S7FTPFkI5FcMkWOZIqrZF12M+WC+5ReHyK25ReXSL56XCYL+zaczTRx7yMeDRpPgpQY3AALV7mWSWNM8g57vZ3tZ/VbUFe2OjdPT5vmoO+1pqanE8QXMV8LQ9IraubY6V2b8rOY3wAU+37tr0OinmBweRmM+d+gHs0nsXNWK3sT6sjdqkM1XSxdOWIdmeMfDFY5bzkdoOVtASEc2Fkj+AJGYPM9yCfEREBERAXlzcRgdI816RBzDe6yDSVdRT4YNa45nGM6WeBWIUy5aLvGSNlfGOdFzZN5jJ0O7CfHgoaQVKWofE9krHZr2ODmu2teDiCuk7oW9HX00c7SM72Xt/RyDWPqOBXNC2O4165LOnzxi6B+Alj6TemPjH9EHSCw94bCjq2Zrua8ey4a2n6jgr2zq+KojZNC4PjeMWuH961drjljMpxXLDPLCzLG8WIVtayJ6V2bKw4bHDSx3UforVj1N88DJGlj2te07CAQewrWa24lM84xl8R+E4t7iputsbbzhV3Q6vjZxqzj5xHjZFUEi212T1w1VIw4x6f4lcU9wGD253O+Vob5krN8Fq2+P6acuo7bjnn7VpjSScBpPeStwu1dZxIlqBgBgWx7Txd+C2Oy7Bp6f7OMZ3SOl3edXYsstmhsZjec+9S911K5y46c4n3GjBfUUa5T78ina+ipnY1Dhg9w/wAOwjVj0j4dyopbT8rN5RVVIp4nYwwZw0HmPl948cNQPXvWiL4vqAp0yN2MYKM1Dhg+odnceTboZ36T2qILq2I+tqoaZupxxe7oRj2j3eOC6aggaxrY2DBrQGgbmgYAIKyIiAiIgIiIKNRC2RrmPAcxwLXA6Q5p0EFc537uu+z6gx4EwPxdE/Xi3oHiNXiuklhL03fhr4HU8ujax40vifscPw2oOZUWRvBYk9FK6CduDh7Lvdkbsc07Qscg2K598Kmzn+r9ZC72onaGO4g+6ePfipzuzeulr24wP549qN3NlZ2bRxC5qXuGZzHB7HOY8anNJa8dRCDrJFAtiZVK+ABs2ZVMHT5suHzjX1kFbnQZXqFwHKxTxO26BIwdRBx8EEjotMZlPso/fvH/ABy/greoyq2Y32XTSfLGRj+1gg3tUaiZsbS97msYNbnENa0bySomtjLG482kps34pjif2G/itAt681ZWuxqZnPGxg5sTepo0dutBId9cqQAdT2ecTpBnOpvyA6+sqJnvLiXOJcTiSTpJJ2kr4iAvrRicBr8SV8UuZLbiFpZX1bMDrhjcNI/zHjfuHag2LJjdL0GDlJQBUy4F++NuyP6nj1Ld0RAREQEREBERAREQYS8t3aeviMM7dOtrx9pE7e0/TUVAt7Ln1Vnv9Y3PhOObK37M9fRPA+K6VVCogZI0se1r2HW1wDmuHEHWg5RRTFejJNG/GWgfyTtfJPxMR+R2tvbj2KMbbu7V0bs2ogez4vajf1PGhBi0REBERARF7hhe8hrGue4+60FxPUAg8KpT075HCONjnvd7LWgue48AFu13cl1bUFrp/wAliPS0zEcI9nbgpbuxdOkoG4QR88+1K7nSv7dg4DQg0+4OTUQZtVXNa+YaWRaHRx8X7C/wCk8BfUQEREBERAREQEREBERAREQFSmaCMHAEHYdIREGuWrcGzKgkvpmMd0osYj2hvNPaCtHvHk5oofs31A4F7CP4ERBH01nMBwBd4fgs5di6sFSQJHyt+UxjzaURBItlZMLMGBeyWX55HYfuYLbrMsunp8WwQRRAdBoBPWdZREGSREQEREBERAREQEREH//Z'	
	@Input() ovLogo: string;
	constructor(public elementRef: ElementRef) {}

	@HostListener('error')
	loadDefaultLogo() {
		const element = <HTMLImageElement>this.elementRef.nativeElement;
		element.src = this.ovLogo || this.defaultLogo;
	}
}

