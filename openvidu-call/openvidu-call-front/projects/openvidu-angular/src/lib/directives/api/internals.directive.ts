// * Private directives *

import { Directive, ElementRef, HostListener, Input } from '@angular/core';

/**
 * Load default OpenVidu logo if custom one is not exist
 * @internal
 */
@Directive({
	selector: 'img[ovLogo]'
})
export class LogoDirective {
	defaultLogo ='data:image/png,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'
	@Input() ovLogo: string;
	constructor(public elementRef: ElementRef) {}

	@HostListener('error')
	loadDefaultLogo() {
		const element = <HTMLImageElement>this.elementRef.nativeElement;
		element.src = this.ovLogo || this.defaultLogo;
	}
}

