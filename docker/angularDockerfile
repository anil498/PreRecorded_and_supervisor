# Use the official Node.js image as the base image
FROM node:lts-alpine3.16 as video-platform-build
WORKDIR /
ARG BASE_HREF=/
# Set the working directory inside the container
WORKDIR /opt/videoplatform

COPY --from=video-platform-build /mcarbonPortal .
RUN npm install --location=global npm
# Build mcarbon portal frontend
RUN ls -ltrh && \
    npm install && \
    npm run build
